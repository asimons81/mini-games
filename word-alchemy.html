<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Alchemy</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Quicksand:wght@400;600&display=swap');
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  min-height: 100vh;
  background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2e 50%, #0a1a2e 100%);
  font-family: 'Quicksand', sans-serif;
  overflow: hidden;
  color: #e0d4ff;
}
#particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
main {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  min-height: 100vh;
}
h1 {
  font-family: 'Cinzel', serif;
  font-size: 2.8rem;
  background: linear-gradient(90deg, #ffd700, #ff6b9d, #00d4ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 10px;
  text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
}
.subtitle { font-size: 1rem; opacity: 0.7; margin-bottom: 20px; }
#discovered-count { font-size: 1.2rem; color: #00d4ff; margin-bottom: 20px; }
#crafting-area {
  width: 340px;
  height: 180px;
  border: 2px dashed rgba(255, 215, 0, 0.4);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-bottom: 25px;
  background: rgba(255, 255, 255, 0.03);
  transition: all 0.3s ease;
  position: relative;
}
#crafting-area.dragover {
  border-color: #ffd700;
  background: rgba(255, 215, 0, 0.1);
  transform: scale(1.02);
  box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
}
.slot {
  width: 80px;
  height: 80px;
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  background: rgba(0, 0, 0, 0.3);
  user-select: none;
}
.slot:hover { border-color: rgba(255, 215, 0, 0.6); }
.slot.filled { border-color: #00d4ff; background: rgba(0, 212, 255, 0.15); }
.plus { font-size: 1.5rem; opacity: 0.4; }
.equals { font-size: 1.5rem; opacity: 0.4; }
#result {
  width: 100px;
  height: 100px;
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  background: rgba(0, 0, 0, 0.3);
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.4s ease;
}
#result.show { opacity: 1; transform: scale(1); border-color: #ffd700; }
#result.new { animation: pulse 0.6s ease; }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
#message {
  height: 30px;
  margin-bottom: 15px;
  font-size: 1rem;
  color: #ff6b9d;
  text-align: center;
}
#elements-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  max-width: 600px;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 16px;
  max-height: calc(100vh - 400px);
  overflow-y: auto;
}
.element {
  padding: 10px 18px;
  background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 25px;
  cursor: grab;
  transition: all 0.2s ease;
  font-size: 0.95rem;
}
.element:hover {
  transform: translateY(-3px);
  border-color: #ffd700;
  box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2);
}
.element:active { cursor: grabbing; }
.element.new { animation: glow 1s ease; }
@keyframes glow {
  0%, 100% { box-shadow: 0 0 5px rgba(0, 212, 255, 0.3); }
  50% { box-shadow: 0 0 25px rgba(0, 212, 255, 0.8); border-color: #00d4ff; }
}
#hint {
  margin-top: 20px;
  font-size: 0.85rem;
  opacity: 0.5;
  text-align: center;
}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<main>
  <h1>âœ¨ Word Alchemy âœ¨</h1>
  <p class="subtitle">Combine elements to discover new words</p>
  <div id="discovered-count">Discovered: <span id="count">4</span> / <span id="total">30</span></div>
  <div id="crafting-area">
    <div class="slot" id="slot1" data-index="0"></div>
    <span class="plus">+</span>
    <div class="slot" id="slot2" data-index="1"></div>
    <span class="equals">=</span>
    <div id="result"></div>
  </div>
  <div id="message"></div>
  <div id="elements-container"></div>
  <p id="hint">Drag elements to the slots above â€¢ Click slots to clear</p>
</main>
<script>
const recipes = {
  'fire+water': 'steam', 'water+fire': 'steam',
  'earth+water': 'mud', 'water+earth': 'mud',
  'air+fire': 'energy', 'fire+air': 'energy',
  'earth+fire': 'lava', 'fire+earth': 'lava',
  'air+water': 'rain', 'water+air': 'rain',
  'air+earth': 'dust', 'earth+air': 'dust',
  'fire+mud': 'brick', 'mud+fire': 'brick',
  'water+lava': 'stone', 'lava+water': 'stone',
  'air+energy': 'storm', 'energy+air': 'storm',
  'rain+earth': 'plant', 'earth+rain': 'plant',
  'plant+fire': 'ash', 'fire+plant': 'ash',
  'stone+air': 'sand', 'air+stone': 'sand',
  'sand+fire': 'glass', 'fire+sand': 'glass',
  'plant+water': 'swamp', 'water+plant': 'swamp',
  'energy+stone': 'crystal', 'stone+energy': 'crystal',
  'rain+energy': 'rainbow', 'energy+rain': 'rainbow',
  'plant+sun': 'flower', 'sun+plant': 'flower',
  'air+fire+water': 'mist', 'fire+water+air': 'mist',
  'lava+air': 'stone', 'air+lava': 'stone',
  'sun+fire': 'light', 'fire+sun': 'light',
  'light+water': 'prism', 'water+light': 'prism',
  'sand+water': 'beach', 'water+sand': 'beach',
  'plant+stone': 'tree', 'stone+plant': 'tree',
  'tree+fire': 'coal', 'fire+tree': 'coal',
  'cloud': 'air+air', 'cloud+water': 'rain', 'water+cloud': 'rain',
  'energy+water': 'life', 'water+energy': 'life',
  'life+earth': 'human', 'earth+life': 'human',
  'human+energy': 'magic', 'energy+human': 'magic',
  'human+metal': 'robot', 'metal+human': 'robot'
};

const initialElements = ['fire', 'water', 'earth', 'air'];
let discovered = [...initialElements];
let slots = [null, null];

// Particle background
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let particles = [];
function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();
for (let i = 0; i < 50; i++) {
  particles.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2 + 0.5,
    vx: (Math.random() - 0.5) * 0.3,
    vy: (Math.random() - 0.5) * 0.3,
    alpha: Math.random() * 0.5 + 0.1
  });
}
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    p.x += p.vx; p.y += p.vy;
    if (p.x < 0) p.x = canvas.width;
    if (p.x > canvas.width) p.x = 0;
    if (p.y < 0) p.y = canvas.height;
    if (p.y > canvas.height) p.y = 0;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255, 215, 0, ${p.alpha})`;
    ctx.fill();
  });
  requestAnimationFrame(animate);
}
animate();

// Game logic
function renderElements() {
  const container = document.getElementById('elements-container');
  container.innerHTML = '';
  const sorted = [...discovered].sort();
  sorted.forEach(el => {
    const div = document.createElement('div');
    div.className = 'element';
    div.textContent = el;
    div.draggable = true;
    div.addEventListener('dragstart', e => {
      e.dataTransfer.setData('text/plain', el);
    });
    container.appendChild(div);
  });
}

function renderSlots() {
  slots.forEach((el, i) => {
    const slot = document.getElementById(`slot${i + 1}`);
    slot.textContent = el || '';
    slot.classList.toggle('filled', !!el);
  });
}

function checkRecipe() {
  const result = document.getElementById('result');
  const message = document.getElementById('message');
  if (!slots[0] || !slots[1]) {
    result.classList.remove('show');
    message.textContent = '';
    return;
  }
  const key = `${slots[0]}+${slots[1]}`;
  const reverseKey = `${slots[1]}+${slots[0]}`;
  const found = recipes[key] || recipes[reverseKey];
  
  if (found) {
    result.textContent = found;
    result.classList.add('show');
    if (!discovered.includes(found)) {
      discovered.push(found);
      result.classList.add('new');
      setTimeout(() => result.classList.remove('new'), 600);
      message.textContent = `ðŸŽ‰ New discovery: ${found}!`;
      message.style.color = '#00d4ff';
      updateCount();
      renderElements();
      document.querySelectorAll('.element').forEach(el => {
        if (el.textContent === found) el.classList.add('new');
      });
    } else {
      message.textContent = `You already discovered ${found}`;
      message.style.color = '#ff6b9d';
    }
  } else {
    result.textContent = '?';
    result.classList.add('show');
    message.textContent = 'Nothing happens... try a different combination';
    message.style.color = '#ff6b9d';
  }
}

function updateCount() {
  const all = new Set(Object.values(recipes).concat(initialElements));
  document.getElementById('count').textContent = discovered.length;
  document.getElementById('total').textContent = all.size;
}

const craftingArea = document.getElementById('crafting-area');
craftingArea.addEventListener('dragover', e => {
  e.preventDefault();
  craftingArea.classList.add('dragover');
});
craftingArea.addEventListener('dragleave', () => craftingArea.classList.remove('dragover'));
craftingArea.addEventListener('drop', e => {
  e.preventDefault();
  craftingArea.classList.remove('dragover');
  const el = e.dataTransfer.getData('text/plain');
  if (!slots[0]) { slots[0] = el; }
  else if (!slots[1]) { slots[1] = el; }
  else { slots[0] = el; slots[1] = null; }
  renderSlots();
  checkRecipe();
});

document.querySelectorAll('.slot').forEach(slot => {
  slot.addEventListener('click', () => {
    const idx = parseInt(slot.dataset.index);
    slots[idx] = null;
    renderSlots();
    checkRecipe();
  });
});

renderElements();
updateCount();
</script>
</body>
</html>
